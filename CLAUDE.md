# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

**dear-applicant** is a full-stack React Router v7 application deployed on Cloudflare Workers. It uses SSR, Vite for builds, and TailwindCSS v4 for styling. Authentication (better-auth) and database (Drizzle ORM) dependencies are installed but not yet integrated.

## Commands

```bash
pnpm dev              # Dev server with HMR at http://localhost:5173
pnpm build            # Production build (runs react-router build)
pnpm preview          # Preview production build locally
pnpm deploy           # Build + deploy to Cloudflare Workers
pnpm typecheck        # TypeScript checking + React Router typegen
pnpm cf-typegen       # Generate Cloudflare Workers types
```

No test runner or linter is configured yet.

## Architecture

### Request Flow
Cloudflare Worker (`workers/app.ts`) → React Router request handler → SSR via `app/entry.server.tsx` → Route loaders/components

### Key Files
- `workers/app.ts` — Worker entry point; creates React Router handler and provides Cloudflare context (`env` + `ExecutionContext`) via `AppLoadContext`
- `app/entry.server.tsx` — Server rendering with React 19 streaming (`renderToReadableStream`); uses `isbot` to detect bots and await full render
- `app/root.tsx` — Root layout with global error boundary
- `app/routes.ts` — Route configuration (React Router v7 `RouteConfig` pattern)
- `wrangler.jsonc` — Cloudflare Workers config (nodejs_compat enabled, observability on)

### Path Alias
`~/` maps to `./app/` (configured in `tsconfig.cloudflare.json`)

### TypeScript
Three tsconfig files: root (`tsconfig.json`), app (`tsconfig.cloudflare.json`), and build tools (`tsconfig.node.json`). Strict mode is enabled. React Router typegen produces types in `.react-router/types/`.

### Styling
TailwindCSS v4 with `@import` syntax in `app/app.css`. Inter font from Google Fonts. Dark mode via `prefers-color-scheme`.

### Cloudflare Environment
Environment variables are accessed in loaders via `context.cloudflare.env`. Worker types are generated by `wrangler types` (runs on `postinstall`). No database bindings configured yet.
